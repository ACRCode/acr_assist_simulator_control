<form [formGroup]="multiChoiceElementForm" novalidate>

  <!------------Right to left layout---------->
  <div class="form-group" *ngIf="!alignLabelAndControlToTopAndBottom">
    <div class="col-sm-4 text-right">
      <label class="control-label break-word">{{multiChoiceElement.label}} <span
          *ngIf="multiChoiceElement.unit != undefined && multiChoiceElement.unit != ''">
          ({{multiChoiceElement.unit}})</span>
      </label>
      <ng-container *ngIf="multiChoiceElement.hint !== '' && multiChoiceElement.hint !== undefined">
        <i class="fa fa-info-circle text-primary font-size-inherit whitespace" title="{{multiChoiceElement.hint}}"></i>
      </ng-container>
      <ng-container *ngIf="multiChoiceElement.diagrams != undefined ">
        <acr-hint-diagram [dataElement]="multiChoiceElement" [imagePath]="imagePath"></acr-hint-diagram>
      </ng-container>
      <span *ngIf="isMultiChoiceElementRequired()" class="required-field" title="Required Field">
        *
      </span>
    </div>

    <div class="col-sm-8" [ngClass]="multiChoiceElement.isEditable == false ? 'disabled-element' : ''">
      <div *ngFor="let choice of multiChoiceElement.choiceInfo" class="checkbox checkboxCustomized"
        title="{{choice.hint}}">
        <label [hidden]="isMultiChoiceLabelHidden(choice.value)">
          <input type="checkbox" class="multiselectItems_{{multiChoiceElement.id}}"
            id="{{multiChoiceElement.id}}_{{choice.value}}" [checked]="false" formControlName="multiCheckBox"
            value="{{choice.value}}"
            (change)="updateMultiChoice(multiChoiceElement.id, multiChoiceElement.label, (choice.reportText !== undefined) ? choice.reportText : choice.label, $event)">
          {{choice.label}}
        </label>
      </div>

      <div class="checkbox checkboxCustomized" *ngIf="multiChoiceElement.allowFreetext">
        <label>
          <input type="checkbox" id="{{multiChoiceElement.id}}_othertext" [checked]="false"
            formControlName="multiCheckBox" [value]="'freetext'"
            (change)="choiceSelected(multiChoiceElement.id, multiChoiceElement.label, 'Other, please specify…', 'freetext', $event)">
          Other, please specify…
        </label>
      </div>

      <!-- other '{{multiChoiceElement.label}}' -->
      <div id='div_{{multiChoiceElement.id}}_other'>
        <input id="txt_other_{{multiChoiceElement.id}}" class="form-control" type="text" [(ngModel)]="freeTextValue"
          [ngModelOptions]="{standalone: true}" placeholder="Please specify"
          (keyup)='updateFreeText($event.target, multiChoiceElement.id, multiChoiceElement.label)'>
      </div>
    </div>
  </div>

  <!-----------Top to bottom layout-------------->
  <div class="form-group" *ngIf="alignLabelAndControlToTopAndBottom">
    <div class="col-lg-12" [ngClass]="multiChoiceElement.isEditable == false ? 'disabled-element' : ''">
      <div class="col-lg-10 labelparentdiv">
        <label class="control-label break-word">{{multiChoiceElement.label}} <span
            *ngIf="multiChoiceElement.unit != undefined && multiChoiceElement.unit != ''">
            ({{multiChoiceElement.unit}})</span>
          <span *ngIf="isMultiChoiceElementRequired()" class="required-field" title="Required Field">
            *
          </span>
        </label>
      </div>
      <div class="col-lg-2 div_hint">
        <ng-container *ngIf="multiChoiceElement.hint !== '' && multiChoiceElement.hint !== undefined">
          <i class="fa fa-info-circle text-primary whitespace" title="{{multiChoiceElement.hint}}"></i>
        </ng-container>
        <ng-container *ngIf="multiChoiceElement.diagrams != undefined ">
          <acr-hint-diagram [dataElement]="multiChoiceElement" [imagePath]="imagePath"></acr-hint-diagram>
        </ng-container>
      </div>
      <div *ngFor="let choice of multiChoiceElement.choiceInfo" class="checkbox checkboxCustomized"
        title="{{choice.hint}}">
        <label [hidden]="isMultiChoiceLabelHidden(choice.value)">
          <input type="checkbox" class="multiselectItems_{{multiChoiceElement.id}}"
            id="{{multiChoiceElement.id}}_{{choice.value}}" [checked]="false" formControlName="multiCheckBox"
            value="{{choice.value}}"
            (change)="updateMultiChoice(multiChoiceElement.id, multiChoiceElement.label, (choice.reportText !== undefined) ? choice.reportText : choice.label, $event)">
          {{choice.label}}
        </label>
      </div>

      <div class="checkbox checkboxCustomized" *ngIf="multiChoiceElement.allowFreetext">
        <label>
          <input type="checkbox" id="{{multiChoiceElement.id}}_othertext" [checked]="false"
            formControlName="multiCheckBox" [value]="'freetext'"
            (change)="choiceSelected(multiChoiceElement.id, multiChoiceElement.label, 'Other, please specify…', 'freetext', $event)">
          Other, please specify…
        </label>
      </div>

      <!-- other '{{multiChoiceElement.label}}' -->
      <div id='div_{{multiChoiceElement.id}}_other'>
        <input id="txt_other_{{multiChoiceElement.id}}" class="form-control" type="text" [(ngModel)]="freeTextValue"
          [ngModelOptions]="{standalone: true}" placeholder="Please specify"
          (keyup)='updateFreeText($event.target, multiChoiceElement.id, multiChoiceElement.label)'>
      </div>
    </div>
  </div>
</form>