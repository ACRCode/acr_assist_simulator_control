<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ACR Simulator</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="assets/css/bootstrap.min.css">
  <!--<link href="assets/css/bootstrap.techie.css" rel="stylesheet">-->
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <acr-app-root></acr-app-root>
  <div id="rowContent">

  </div>
   <!-- Main Scripts-->
   <script src="assets/js/jquery.js"></script>
   <script src="assets/js/bootstrap.min.js"></script>
   <script src="assets/js/ImgMapHover.js"></script>

   <!-- Bootstrap 3 has typeahead optionally -->
   <script src="assets/js/typeahead.min.js"></script>
<script id="HellowRadsModule" type="text/xml" style="display:none;">
  <?xml version="1.0" encoding="UTF-8"?>
  <?xml-model href="ACRAssist_xml_schema_v1_0.rnc" type="application/relax-ng-compact-syntax"?>
  <ReportingModule>
    
      <Metadata>   
          <Label>Hello RADS</Label>
          <ID>Hello_Rads_1_0</ID>
          <SchemaVersion>1.0</SchemaVersion>
          <RuleVersion>1.0</RuleVersion>
          <Info>
              <Description>This is a sample xml for characterizing liver lesion for MRI</Description>
              <References>          
                  <Citation Url="https://nrdr.acr.org/lirads/">
                  </Citation>
                  <Citation Url="https://nrdr.acr.org/liradsapp/">
                  </Citation>
              </References>
              <Diagrams>  
                  <Diagram DisplaySequence="1" KeyDiagram="true">
                    <Location>LIRADS.png</Location>
                      <Label>ACR LI-RADS</Label>  
                  </Diagram>
              </Diagrams>
              <Contact>
                  <Name>ACR Assist</Name>
                <Email>acr-assist@acr.org</Email>
                  <Institution>American College of Radiology</Institution>
              </Contact>
          </Info>
          <ReportCitationText/>
          <Ontology>
              <AnatomicRegions>
                  <Region Code=""></Region>
              </AnatomicRegions>
              <PossibleDiagnoses>
                  <Diagnosis Code=""></Diagnosis>
              </PossibleDiagnoses>
          </Ontology>
          <ApplicableExams>
              <ApplicableExamCategory Axis="Modality">
              </ApplicableExamCategory>
              <ApplicableExamCategory  Axis="Anatomy"/>
             
          </ApplicableExams>
          <ApplicableSexes Value="Both"></ApplicableSexes>
          <ApplicableAgeGroups>
              <MinimumAge>1</MinimumAge>
          </ApplicableAgeGroups>
          <TextCues>
              <ContextPhrases>
                  <ContextPhrase></ContextPhrase>
              </ContextPhrases>
              <KeyWords>
                  <KeyWord>LIRADS Liver lesion</KeyWord>  
              </KeyWords>
              <NegationPhrases>
                  <NegationPhrase></NegationPhrase>
              </NegationPhrases>
              <Regex/>           
          </TextCues>
          <VoiceActivation>
            <VoiceCommandPhrase>LIRADS</VoiceCommandPhrase>
            <VoiceCommandPhrase>Liver lesion</VoiceCommandPhrase>
            <VoiceCommandPhrase>American College of Radiology</VoiceCommandPhrase> 
          </VoiceActivation>
      </Metadata>
    
      <DataElements>
        
      <GlobalValue Id="diameterSmall">10</GlobalValue>
        
          <GlobalValue Id="diameterLarge">20</GlobalValue>
             
        <ChoiceDataElement Id="observationCharacter" IsRequired="true" CdeId="RDE65" DisplaySequence="1" >        	
              <Label>Observation in high risk patient</Label>
          <Hint> Observation : Area with imaging features that differ from those of adjacent liver parenchyma \r\n high risk patient:in whom the incidence of HCC is sufficient to justify screening or surveillance according to AASLD guidelines  </Hint>
          <Diagrams>
            <Diagram>
              <Location>observation.png</Location>
              <Label>observation</Label>
            </Diagram>
          </Diagrams>
          
          <VoiceCommand> Observation in high risk patient </VoiceCommand>    		
              <ChoiceInfo>
                <Choice>
                  <Value>treatedObservation</Value>
                  <Label>Treated observation</Label>
                  <Hint>An observation that has undergone loco-regional treatment</Hint>
                </Choice>
                <Choice>
                  <Value>definitelyBenign</Value>
                  <Label>Definitely benign</Label>
                  <Hint> Cyst
                    Hemangioma
                    Vascular anomaly
                    Perfusion alteration
                    Hepatic fat deposition or sparing
                    Hypertrophic pseudomass
                    Confluent fibrosis
                    Focal scar
                    Observation that spontaneously disappears at follow-up</Hint>
                </Choice>
                <Choice>
                  <Value>probablyBenign</Value>
                  <Label>Probably benign</Label>
                  <Hint>Probable benign entities (examples)
                    Probable:
                    Cyst
                    Hemangioma
                    Vascular anomaly
                    Perfusion alteration
                    Hepatic fat deposition or sparing
                    Hypertrophic pseudomass
                    Confluent fibrosis
                    Focal scar
                    LR-2 cirrhosis associated nodule
                  </Hint>
                </Choice>
                  <Choice>
                      <Value>notDefProbBenign</Value>
                      <Label>Neither definite nor probable benign</Label>
                  </Choice>
                <Choice>
                  <Value>notspecificforhcc</Value>
                  <Label>Probable malignancy, not specific for HCC</Label>
                  <Hint>Observation is probably malignant, but imaging features are not specific for HCC</Hint>
                </Choice>
                <Choice>
                  <Value>tumorInVein</Value>
                  <Label>Tumor in vein</Label>
                  <Hint>Presence of tumor in vein lumen.</Hint>
                </Choice>
              </ChoiceInfo>
          </ChoiceDataElement>
          
        <ChoiceDataElement Id="arterialEnhancement" IsRequired="true" CdeId="RDE86" DisplaySequence="2">
              <Label>Arterial phase enhancement</Label>
          <Hint>Enhancement in the arterial phase that is less than that of liver.</Hint>
          <Diagrams>
            <Diagram>
              <Location>Arterialphase1.png</Location>
              <Label>Arterial phase</Label>
            </Diagram>
            <Diagram>
              <Location>Arterialphase2.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>Arterialphase3.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>Arterialphase4.png</Location>
              <Label>Arterial phase</Label>
            </Diagram>
            <Diagram>
              <Location>Arterialphase5.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>Arterialphase6.png</Location>
              <Label></Label>
            </Diagram>
          </Diagrams>
          
          <VoiceCommand>Arterial phase enhancement</VoiceCommand>
              <ChoiceInfo>
                <Choice>
                  <Value>hypoEnhancing</Value>
                  <Label>Hypo-enhancement</Label>  
                </Choice>
                  <Choice>
                      <Value>isoEnhancing</Value>
                      <Label>Iso-enhancement</Label>
                  </Choice>
                  <Choice>
                      <Value>hyperEnhancing</Value>
                      <Label>Hyper-enhancement</Label>  
                  </Choice>
              </ChoiceInfo>
          </ChoiceDataElement>
          
        <NumericDataElement Id="diameter" IsRequired="true" CdeId="RDE81" DisplaySequence="3">
          <Label>Diameter (mm)</Label>
          <Hint>Size of the lesion (outer edge to outer edge) in mm</Hint>
          <Diagrams>
            <Diagram>
              <Location>diameter1.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>diameter2.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>diameter3.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>diameter4.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>diameter5.png</Location>
              <Label></Label>
            </Diagram>
          </Diagrams>
          <Minimum>1</Minimum>
          
        </NumericDataElement>
          
        <ChoiceDataElement Id="washout" IsRequired="true" CdeId="RDE85" DisplaySequence="4">
              <Label>Washout</Label>
          <Hint>Visually assessed temporal reduction in enhancement relative to liver from an earlier to a later phase resulting in portal venous phase hypoenhancement or delayed phase hypoenhancement.</Hint>
              <ChoiceInfo>
           <Choice>
            <Value>yes</Value>
            <Label>Yes</Label>
           </Choice>
           <Choice>
            <Value>no</Value>
            <Label>No</Label>
           </Choice>
        </ChoiceInfo>
              <ImageMap>
                <imageElements>washoutImages.png</imageElements>
                  <Map>
                       <Area Shape="rect" Coords="0,462,800,623" ChoiceValue="no"/>
                      <Area Shape="rect" Coords="0,0,799,463" ChoiceValue="yes"/>
                  </Map>
              </ImageMap>
          </ChoiceDataElement>
             
        <ChoiceDataElement Id="capsule" IsRequired="true" CdeId="RDE83" DisplaySequence="5">
              <Label>Capsule</Label>
          <Hint>Peripheral rim of smooth hyper-enhancement in the portal venous phase or delayed phase that unequivocally is thicker or more conspicuous than the rims surrounding background nodule.</Hint>
              <ChoiceInfo>
           <Choice>
            <Value>yes</Value>
            <Label>Yes</Label>
           </Choice>
           <Choice>
            <Value>no</Value>
            <Label>No</Label>
           </Choice>
        </ChoiceInfo>
              <ImageMap>
                <imageElements>capsuleImages.png</imageElements>
                  <Map>
                       <Area Shape="rect" Coords="0,462,800,623" ChoiceValue="no"/>
                      <Area Shape="rect" Coords="0,0,799,463" ChoiceValue="yes"/>
                  </Map>
              </ImageMap>
          </ChoiceDataElement>
          
        <ChoiceDataElement Id="thresholdgrowth" IsRequired="true" CdeId="RDE84" DisplaySequence="6">
              <Label>Threshold Growth</Label>
          <Hint>Increase in diameter of a mass compared to its baseline by a minimum of 5 mm AND depending on the time interval between examinations, by the following amounts:    			
            less than or equal to 6 months: >50% diameter increase 
              greater than 6 months: >100% diameter increase
          </Hint>
              <ChoiceInfo>
           <Choice>
            <Value>yes</Value>
            <Label>Yes</Label>
           </Choice>
           <Choice>
            <Value>no</Value>
            <Label>No</Label>
           </Choice>
        </ChoiceInfo>
               <ImageMap>
                <imageElements>thresholdImages.png</imageElements>
                  <Map>
                       <Area Shape="rect" Coords="0,462,800,623" ChoiceValue="no"/>
                      <Area Shape="rect" Coords="0,0,799,463" ChoiceValue="yes"/>
                  </Map>
              </ImageMap>
          </ChoiceDataElement>
        
        <MultiChoiceDataElement Id="ancillaryFavoringMalignancy" DisplaySequence="7">
          <Label>Are there Ancillary features favoring malignancy? </Label>
          <Hint>Imaging features that modify likelihood of HCC. In isolation, these features do not permit reliable categorization of observations and hence are considered ancillary.</Hint>
          <Diagrams>
            <Diagram>
              <Location>AF_favoringMal1.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringMal2.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringMal3.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringMal4.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringMal5.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringMal6.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringMal7.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringMal8.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringMal9.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringMal10.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringMal11.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringMal12.png</Location>
              <Label></Label>
            </Diagram>
          </Diagrams>
          <ChoiceInfo>
            <Choice>
              <Value>Hepatobiliaryphasehypointensity</Value>
              <Label>Hepatobiliary phase hypointensity</Label>
              <Hint>Intensity in the hepatobiliary phase that unequivocally is less than that of the surrounding liver</Hint>
              <ReportText>Hepatobiliary phase hypointensity</ReportText>
            </Choice>
            <Choice>
              <Value>Transitionalphasehypointensity</Value>
              <Label>Transitional phase hypointensity</Label>
              <Hint> Intensity in the transitional phase that unequivocally is less than that of the surrounding liver</Hint>
              <ReportText>Transitional phase hypointensity</ReportText>
            </Choice>
            <Choice>
              <Value>Mild-moderateT2hyperintensity</Value>
              <Label>Mild-moderate T2 hyperintensity</Label>
              <Hint>Having mildly or moderately higher signal intensity on T2w images than liver.</Hint>
              <ReportText>Mild-moderate T2 hyperintensity</ReportText>
            </Choice>
            <Choice>
              <Value>Restricteddiffusion</Value>
              <Label>Restricted diffusion</Label>
              <ReportText>Restricted diffusion</ReportText>
            </Choice>
            <Choice>
              <Value>Distinctiverim</Value>
              <Label>Distinctive rim</Label>
              <Hint>Features that specifically favor HCC as opposed to malignancy in general</Hint>
              <ReportText>Distinctive rim</ReportText>
            </Choice>
            <Choice>
              <Value>Coronaenhancement</Value>
              <Label>Coronaenhancement</Label>
              <Hint>Zone or rim of peri-observation enhancement in the late arterial phase or early portal venous phase occurring after rapid dissipation of contrast material from an arterial phase hyperenhancing mass.</Hint>
              <ReportText>Coronaenhancement</ReportText>
            </Choice>
            <Choice>
              <Value>Mosaicarchitecture</Value>
              <Label>Mosaic architecture</Label>
              <Hint>Observation that appears to consist of nodules or compartments with differing appearances (enhancement, attenuation, intensity).  This term can also be applied to lesions with internal enhancing septations. The nodules, compartments, or septations appear randomly distributed within the observation.</Hint>
              <ReportText>Mosaic architecture</ReportText>
            </Choice>
            <Choice>
              <Value>Nodule-in-nodulearchitecture</Value>
              <Label>Nodule-in-nodulearchitecture</Label>
              <Hint>One or more nodular or nodule-like observations within a larger nodular or nodular-like observation. </Hint>
              <ReportText>Nodule-in-nodulearchitecture</ReportText>
            </Choice>
            <Choice>
              <Value>Intra-lesionalfat</Value>
              <Label>Intra-lesional fat</Label>
              <Hint>Presence of lipid in higher concentration within a mass than in background reference tissue (e.g. liver).</Hint>
              <ReportText>Intra-lesional fat</ReportText>
            </Choice>
            <Choice>
              <Value>Lesionalironsparing</Value>
              <Label>Lesional iron sparing</Label>
              <Hint>Relative paucity of iron in a solid mass compared to that of background reference tissue (e.g. iron-overloaded liver).</Hint>
              <ReportText>Lesional iron sparing</ReportText>
            </Choice>
            <Choice>
              <Value>Lesionalfatsparing</Value>
              <Label>Lesional fat sparing</Label>
              <Hint>Relative paucity of fat in solid mass compared to that of background reference tissue (e.g. fatty liver).</Hint>
              <ReportText>Lesional fat sparing</ReportText>
            </Choice>
            <Choice>
              <Value>Bloodproducts</Value>
              <Label>Blood products</Label>
              <Hint>Presence of intra-lesional or peri-lesional hemorrhage in absence of biopsy, trauma or intervention.</Hint>
              <ReportText>Blood products</ReportText>
            </Choice>
            <Choice>
              <Value>Diameter increaselessthanthresholdgrowth</Value>
              <Label>Diameter increase less than threshold growth</Label>
              <Hint>Unequivocal increase in the diameter of an observation, measured on examinations performed on different dates, which is not attributable to artifact, differences in technique between the two examinations, or measurement error.</Hint>
              <ReportText>Diameter increase less than threshold growth</ReportText>
            </Choice>
          </ChoiceInfo>
        </MultiChoiceDataElement>
        
        <MultiChoiceDataElement Id="ancillaryFavoringBenignity" DisplaySequence="8">
          <Label>Are there Ancillary features favoring benignity?</Label>
          <Hint>Imaging features that modify likelihood of HCC. In isolation, these features do not permit reliable categorization of observations and hence are considered ancillary.</Hint>
          <Diagrams>
            <Diagram>
              <Location>AF_favoringBen1.PNG</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringBen2.PNG</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringBen3.PNG</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringBen4.PNG</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringBen5.PNG</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringBen6.PNG</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF_favoringBen7.PNG</Location>
              <Label></Label>
            </Diagram>
          </Diagrams>
          <ChoiceInfo>
            <Choice>
              <Value>HomogeneousmarkedT2hyperintensity</Value>
              <Label>Homogeneous marked T2 hyperintensity</Label>
              <Hint>Having homogeneous and markedly higher signal intensity than liver at T2w imaging.</Hint>
              <ReportText>Homogeneous marked T2 hyperintensity</ReportText>
            </Choice>
            <Choice>
              <Value>Homogeneous markedT2orT2hypointensity</Value>
              <Label>Homogeneous marked T2 or T2* hypointensity</Label>
              <Hint>Having homogeneous and markedly lower signal intensity than liver at T2 or T2* weighted MR imaging.</Hint>
              <ReportText>Homogeneous marked T2 or T2* hypointensity</ReportText>
            </Choice>
            <Choice>
              <Value>Hepatobiliaryphaseisointensity</Value>
              <Label>Hepatobiliary phase isointensity</Label>
              <Hint>Intensity in the hepatobiliary phase that unequivocally is less than that of the surrounding liver</Hint>
              <ReportText>Hepatobiliary phase isointensity</ReportText>
            </Choice>
            <Choice>
              <Value>Undistortedvessels</Value>
              <Label>Undistorted vessels</Label>
              <Hint>Vessels following their normal course without displacement, deformation, or other alteration</Hint>
              <ReportText>Undistorted vessels</ReportText>
            </Choice>
            <Choice>
              <Value>Parallelsbloodpoolenhancement</Value>
              <Label>Parallels blood pool enhancement</Label>
              <Hint>Temporal enhancement pattern in which enhancement in all phases approximates that of the blood pool.</Hint>
              <ReportText>Parallels blood pool enhancement</ReportText>
            </Choice>
            <Choice>
              <Value>Diameterreduction</Value>
              <Label>Diameter reduction</Label>
              <Hint>Unequivocal decrease in the diameter of an observation, measured on examinations performed on different dates, which is not attributable to artifact, differences in technique between the two examinations, or measurement error.</Hint>
              <ReportText>Diameter reduction</ReportText>
            </Choice>
            <Choice>
              <Value>Diameterstabilitylessorrqual2years</Value>
              <Label>Diameter stability ≥ 2 years</Label>
              <Hint>No significant change in diameter of an observation, measured on examinations performed on different dates and in the absence of treatment.</Hint>
              <ReportText>Diameter stability ≥ 2 years</ReportText>
            </Choice>
          </ChoiceInfo>
        </MultiChoiceDataElement>
        
        <ChoiceDataElement Id="adjustcategorybasedonAncillary" DisplaySequence="9">
          <Label>Do you want to adjust category based on ancillary features? </Label>
          <Diagrams>
            <Diagram>
              <Location>AF1.png</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF2.PNG</Location>
              <Label></Label>
            </Diagram>
            <Diagram>
              <Location>AF3.PNG</Location>
              <Label></Label>
            </Diagram>
          </Diagrams>
          <ChoiceInfo>
            <Choice Default="true">
              <Value>No</Value>
              <Label>No</Label>
            </Choice>
            <Choice>
              <Value>Upgradetohcc2</Value>
              <Label>Upgrade to HCC-2</Label>
            </Choice>
            <Choice>
              <Value>Upgradetohcc3</Value>
              <Label>Upgrade to HCC-3</Label>
            </Choice>
            <Choice>
              <Value>Upgradetohcc4</Value>
              <Label>Upgrade to HCC-4</Label>
            </Choice>
            <Choice>
              <Value>Downgradetohcc4</Value>
              <Label>Downgrade to HCC-4</Label>
            </Choice>
            <Choice>
              <Value>Downgradetohcc3</Value>
              <Label>Downgrade to HCC-3</Label>
            </Choice>
            <Choice>
              <Value>Downgradetohcc2</Value>
              <Label>Downgrade to HCC-2</Label>
            </Choice>
            <Choice>
              <Value>Downgradetohcc1</Value>
              <Label>Downgrade to HCC-1</Label>
            </Choice>
          </ChoiceInfo>
        </ChoiceDataElement>    	
      
      </DataElements> 
    
      <Rules>
          <DecisionPoint>
              <Label>Observation character</Label>
              <Branch>
                <Label>Treated Observation</Label>
          <NotRelevantDataElements>
            <DataElementRef DataElementId="diameter"/>
            <DataElementRef DataElementId="arterialEnhancement"/>
            <DataElementRef DataElementId="washout"/>
            <DataElementRef DataElementId="capsule"/>
            <DataElementRef DataElementId="thresholdgrowth"/>
            <DataElementRef DataElementId="ancillaryFavoringMalignancy"/>
            <DataElementRef DataElementId="ancillaryFavoringBenignity"/>
            <DataElementRef DataElementId="adjustcategorybasedonAncillary"/>
          </NotRelevantDataElements>
                  <EqualCondition DataElementId="observationCharacter" ComparisonValue="treatedObservation"/>
                <EndPointRef EndPointId="hcctreatedEp"></EndPointRef>
              </Branch>
        <Branch>
          <Label>Definitely Benign</Label>
          <NotRelevantDataElements>
            <DataElementRef DataElementId="diameter"/>
            <DataElementRef DataElementId="arterialEnhancement"/>
            <DataElementRef DataElementId="washout"/>
            <DataElementRef DataElementId="capsule"/>
            <DataElementRef DataElementId="thresholdgrowth"/>
            <DataElementRef DataElementId="ancillaryFavoringMalignancy"/>
            <DataElementRef DataElementId="ancillaryFavoringBenignity"/>
            <DataElementRef DataElementId="adjustcategorybasedonAncillary"/>
          </NotRelevantDataElements>
                  <EqualCondition DataElementId="observationCharacter" ComparisonValue="definitelyBenign"/>
                  <EndPointRef EndPointId="hcc1Ep"></EndPointRef>
              </Branch>
        <Branch>
          <Label>Probably Benign</Label>
          <NotRelevantDataElements>
            <DataElementRef DataElementId="diameter"></DataElementRef>
            <DataElementRef DataElementId="arterialEnhancement"></DataElementRef>
            <DataElementRef DataElementId="washout"></DataElementRef>
            <DataElementRef DataElementId="capsule"></DataElementRef>
            <DataElementRef DataElementId="thresholdgrowth"></DataElementRef>
            <DataElementRef DataElementId="ancillaryFavoringMalignancy"/>
            <DataElementRef DataElementId="ancillaryFavoringBenignity"/>
            <DataElementRef DataElementId="adjustcategorybasedonAncillary"/>
          </NotRelevantDataElements>
                  <EqualCondition DataElementId="observationCharacter" ComparisonValue="probablyBenign"/>
          <EndPointRef EndPointId="hcc2Ep"/>
              </Branch>  
        <Branch>
          <Label>Probable malignancy, not specific for HCC</Label>
          <NotRelevantDataElements>
            <DataElementRef DataElementId="diameter"/>
            <DataElementRef DataElementId="arterialEnhancement"></DataElementRef>
            <DataElementRef DataElementId="washout"/>
            <DataElementRef DataElementId="capsule"/>
            <DataElementRef DataElementId="thresholdgrowth"/>
            <DataElementRef DataElementId="ancillaryFavoringMalignancy"/>
            <DataElementRef DataElementId="ancillaryFavoringBenignity"/>
            <DataElementRef DataElementId="adjustcategorybasedonAncillary"/>
          </NotRelevantDataElements>
                  <EqualCondition DataElementId="observationCharacter" ComparisonValue="notspecificforhcc"/>
          <EndPointRef EndPointId="hccmEp"></EndPointRef>
              </Branch>         
        <Branch>
          <Label>Tumor in vein</Label>
          <NotRelevantDataElements>
            <DataElementRef DataElementId="diameter"></DataElementRef>
            <DataElementRef DataElementId="arterialEnhancement"></DataElementRef>
            <DataElementRef DataElementId="washout"></DataElementRef>
            <DataElementRef DataElementId="capsule"></DataElementRef>
            <DataElementRef DataElementId="thresholdgrowth"></DataElementRef>
            <DataElementRef DataElementId="ancillaryFavoringMalignancy"/>
            <DataElementRef DataElementId="ancillaryFavoringBenignity"/>
            <DataElementRef DataElementId="adjustcategorybasedonAncillary"/>
          </NotRelevantDataElements>
                  <EqualCondition DataElementId="observationCharacter" ComparisonValue="tumorInVein"/>
                  <EndPointRef EndPointId="hcc5vEp"></EndPointRef>
              </Branch>       
              <Branch>
                  <Label>Neither definite nor probable benign</Label>
                  <AndCondition>
                  <EqualCondition DataElementId="observationCharacter" ComparisonValue="notDefProbBenign"/>
                    <EqualCondition DataElementId="adjustcategorybasedonAncillary" ComparisonValue="No"/>
                  </AndCondition>
                <DecisionPoint>
                      <Label>Arterial phase enhancement</Label>
                      <Branch>
                          <Label>Hyper-enhancement</Label>  <!-- Hyper-enhancement -->
                          <EqualCondition DataElementId="arterialEnhancement" ComparisonValue="hyperEnhancing"/>
                          <DecisionPoint>
                              <Label>Diameter</Label>
                              <Branch>
                                  <Label>&lt; 10</Label>   <!-- Diameter < 10 -->
                                  <LessThanCondition DataElementId="diameter" ComparisonValue="diameterSmall"/>
                  <DecisionPoint>
                                      <Label>Washout/Capsule/Thresholdgrowth</Label>  
                                      <Branch>
                                          <Label>None</Label>  <!-- None / Zero Y's -->
                                          <AndCondition>
                                              <EqualCondition DataElementId="washout" ComparisonValue="no"/>
                                              <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                                              <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                                          </AndCondition>
                                          <EndPointRef EndPointId="hcc3Ep"></EndPointRef>
                                      </Branch>
                    <Branch>
                                          <Label>One</Label>  <!-- One / One Y -->
                      <OrCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Capsule = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                      </OrCondition>
                                          <EndPointRef EndPointId="hcc4Ep"></EndPointRef>
                                      </Branch>
                    <Branch>
                                          <Label>Two or More</Label>  <!-- Two / Two or more Y's -->
                      <OrCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Capsule = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Capsule = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Capsule = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                      </OrCondition>
                                          <EndPointRef EndPointId="hcc4Ep"></EndPointRef>
                                      </Branch>
                                  </DecisionPoint>
                              </Branch>
                <Branch>
                                  <Label>10-19</Label>  <!-- 10 <= Diameter <= 19 -->
                  <AndCondition>
                    <GreaterThanOrEqualsCondition DataElementId="diameter" ComparisonValue="diameterSmall"/>
                    <LessThanOrEqualsCondition DataElementId="diameter" ComparisonValue="19"/>
                  </AndCondition>
                                  <DecisionPoint>
                                      <Label>Washout/Capsule/Thresholdgrowth</Label>  
                                      <Branch>
                                          <Label>None</Label>  <!-- None / Zero Y's -->
                                          <AndCondition>
                                              <EqualCondition DataElementId="washout" ComparisonValue="no"/>
                                              <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                                              <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                                          </AndCondition>
                                        <EndPointRef EndPointId="hcc3Ep"></EndPointRef>
                                      </Branch>
                    <Branch>
                                          <Label>One</Label>  <!-- One / One Y -->
                      <OrCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Capsule = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                      </OrCondition>
                                          <EndPointRef EndPointId="hcc4_5"></EndPointRef>
                                      </Branch>
                    <Branch>
                                          <Label>Two or More</Label>  <!-- Two / Two or more Y's -->
                      <OrCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Capsule = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Capsule = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Capsule = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                      </OrCondition>
                                          <EndPointRef EndPointId="hcc5Ep"></EndPointRef>
                                      </Branch>
                                  </DecisionPoint>
                              </Branch>
                              <Branch>
                                  <Label>&gt;= 20</Label>  <!-- Diameter >= 20 -->
                                  <GreaterThanOrEqualsCondition DataElementId="diameter" ComparisonValue="diameterLarge"/>
                                  <DecisionPoint>
                                      <Label>Washout/Capsule/Thresholdgrowth</Label>  
                                      <Branch>
                                          <Label>None</Label>  <!-- None / Zero Y's -->
                                          <AndCondition>
                                              <EqualCondition DataElementId="washout" ComparisonValue="no"/>
                                              <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                                              <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                                          </AndCondition>
                                          <EndPointRef EndPointId="hcc4Ep"></EndPointRef>
                                      </Branch>
                    <Branch>
                                          <Label>One</Label>  <!-- One / One Y -->
                      <OrCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Capsule = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                      </OrCondition>
                                          <EndPointRef EndPointId="hcc5Ep"></EndPointRef>
                                      </Branch>
                    <Branch>
                                          <Label>Two or More</Label>  <!-- Two / Two or more Y's -->
                      <OrCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Capsule = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Capsule = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Capsule = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                      </OrCondition>
                                          <EndPointRef EndPointId="hcc5Ep"></EndPointRef>
                                      </Branch>
                                  </DecisionPoint>
                              </Branch>
                          </DecisionPoint>
                      </Branch>
            <Branch>
              <Label>Hypo/Iso-enhancing</Label>  <!-- Hypo/Iso-enhancement -->
              <OrCondition>
                <EqualCondition DataElementId="arterialEnhancement" ComparisonValue="hypoEnhancing"/>
                <EqualCondition DataElementId="arterialEnhancement" ComparisonValue="isoEnhancing"/>
              </OrCondition>
              <DecisionPoint>
                <Label>Diameter</Label>
                <Branch>
                  <Label>&lt; 20</Label>   <!-- Diameter < 20 -->
                  <LessThanCondition DataElementId="diameter" ComparisonValue="diameterLarge"/>
                  <DecisionPoint>
                    <Label>Washout/Capsule/Thresholdgrowth</Label>  
                    <Branch>
                      <Label>None</Label>  <!-- None / Zero Y's -->
                      <AndCondition>
                        <EqualCondition DataElementId="washout" ComparisonValue="no"/>
                        <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                        <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                      </AndCondition>
                      <EndPointRef EndPointId="hcc3Ep"></EndPointRef>
                    </Branch>
                    <Branch>
                      <Label>One</Label>  <!-- One / One Y -->
                      <OrCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Capsule = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                      </OrCondition>
                      <EndPointRef EndPointId="hcc3Ep"></EndPointRef>
                    </Branch>
                    <Branch>
                      <Label>Two or More</Label>  <!-- Two / Two or more Y's -->
                      <OrCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Capsule = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Capsule = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Capsule = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                      </OrCondition>
                      <EndPointRef EndPointId="hcc4Ep"></EndPointRef>
                    </Branch>
                  </DecisionPoint>
                </Branch>
                <Branch>
                  <Label>&gt;= 20</Label>  <!-- Diameter >= 20 -->
                  <GreaterThanOrEqualsCondition DataElementId="diameter" ComparisonValue="diameterLarge"/>
                  <DecisionPoint>
                    <Label>Washout/Capsule/Thresholdgrowth</Label>  
                    <Branch>
                      <Label>None</Label>  <!-- None / Zero Y's -->
                      <AndCondition>
                        <EqualCondition DataElementId="washout" ComparisonValue="no"/>
                        <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                        <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                      </AndCondition>
                      <EndPointRef EndPointId="hcc3Ep"></EndPointRef>
                    </Branch>
                    <Branch>
                      <Label>One</Label>  <!-- One / One Y -->
                      <OrCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Capsule = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                      </OrCondition>
                      <EndPointRef EndPointId="hcc4Ep"></EndPointRef>
                    </Branch>
                    <Branch>
                      <Label>Two or More</Label>  <!-- Two / Two or more Y's -->
                      <OrCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Capsule = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="no"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="no"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="no"/>  <!-- Capsule = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                        <AndCondition>
                          <EqualCondition DataElementId="washout" ComparisonValue="yes"/>  <!-- Washout = Yes, Capsule = Yes, Thresholdgrowth = Yes -->
                          <EqualCondition DataElementId="capsule" ComparisonValue="yes"/>
                          <EqualCondition DataElementId="thresholdgrowth" ComparisonValue="yes"/>
                        </AndCondition>
                      </OrCondition>
                      <EndPointRef EndPointId="hcc4Ep"></EndPointRef>
                    </Branch>
                  </DecisionPoint>
                </Branch>
              </DecisionPoint>
            </Branch>
                  </DecisionPoint>
              </Branch>
             <Branch>
             <Label>Adjust category</Label>
               <AndCondition>
                 <NotCondition>
                 <EqualCondition DataElementId="adjustcategorybasedonAncillary" ComparisonValue="No"/>
                 </NotCondition>
                 <EqualCondition DataElementId="observationCharacter" ComparisonValue="notDefProbBenign"/>
               </AndCondition>
               <DecisionPoint>
                 <Label>Adjust category</Label>
                 <Branch>
                   <EqualCondition DataElementId="adjustcategorybasedonAncillary" ComparisonValue="Upgradetohcc2"/>
                   <EndPointRef EndPointId="hcc2Ep"></EndPointRef>
                 </Branch>
                 <Branch>
                   <EqualCondition DataElementId="adjustcategorybasedonAncillary" ComparisonValue="Upgradetohcc3"/>
                   <EndPointRef EndPointId="hcc3Ep"></EndPointRef>
                 </Branch>
                 <Branch>
                   <EqualCondition DataElementId="adjustcategorybasedonAncillary" ComparisonValue="Upgradetohcc4"/>
                   <EndPointRef EndPointId="hcc4Ep"></EndPointRef>
                 </Branch>
                 <Branch>
                   <EqualCondition DataElementId="adjustcategorybasedonAncillary" ComparisonValue="Downgradetohcc4"/>
                   <EndPointRef EndPointId="hcc4Ep"></EndPointRef>
                 </Branch>
                 <Branch>
                   <EqualCondition DataElementId="adjustcategorybasedonAncillary" ComparisonValue="Downgradetohcc3"/>
                   <EndPointRef EndPointId="hcc3Ep"></EndPointRef>
                 </Branch>
                 <Branch>
                   <EqualCondition DataElementId="adjustcategorybasedonAncillary" ComparisonValue="Downgradetohcc2"/>
                   <EndPointRef EndPointId="hcc2Ep"></EndPointRef>
                 </Branch>
                 <Branch>
                   <EqualCondition DataElementId="adjustcategorybasedonAncillary" ComparisonValue="Downgradetohcc1"/>
                   <EndPointRef EndPointId="hcc1Ep"></EndPointRef>
                 </Branch>
                 
               </DecisionPoint>
             </Branch>
          </DecisionPoint>
      </Rules>
      
      <EndPoints>
        
        <TemplatePartial Id="adjustcategorytext">
          <SectionIfValueNot DataElementId="adjustcategorybasedonAncillary" ComparisonValue="No">
            <SectionIf DataElementId="ancillaryFavoringMalignancy">
              HCC category has been adjusted based on the selected Ancillary features favoring Malignancy  <InsertValue DataElementId="ancillaryFavoringMalignancy"/>
            </SectionIf>
            
            <SectionIf DataElementId="ancillaryFavoringBenignity">
              HCC category has been adjusted based on the selected Ancillary features favoring Benignity <InsertValue DataElementId="ancillaryFavoringBenignity"/>
            </SectionIf>
          </SectionIfValueNot>
        </TemplatePartial>
        
        <EndPoint Id="hcc1Ep">
              <Label>HCC-1</Label>
              <ReportTexts>
                  <ReportText SectionId="findings">[HCC-1] Imaging features diagnostic of a benign entity or definite spontaneous disappearance at follow up.
                    <InsertPartial PartialId="adjustcategorytext"/>
                  </ReportText>
                
              </ReportTexts>
          </EndPoint>
    
        <EndPoint Id="hcc2Ep">
              <Label>HCC-2</Label>
             <ReportTexts>
                 <ReportText SectionId="findings">[HCC-2] Observation with imaging features suggestive but not diagnostic of a benign entity.
                   <InsertPartial PartialId="adjustcategorytext"/>
                 </ReportText>
             </ReportTexts>
          </EndPoint>
   
        <EndPoint Id="hcc3Ep">
              <Label>HCC-3</Label>
        
              <ReportTexts>
                  <ReportText SectionId="findings">[HCC-3] Observation that does not meet unequivocal criteria for other LI-RADS categories.
                    <InsertPartial PartialId="adjustcategorytext"/>
                  </ReportText>  
              </ReportTexts>
          </EndPoint>
   
      <EndPoint Id="hcc4Ep">
              <Label>HCC-4</Label>
              <ReportTexts>
                  <ReportText SectionId="findings">[HCC-4] Observation with imaging features suggestive but not diagnostic of HCC. 
                    <InsertPartial PartialId="adjustcategorytext"/>
                  </ReportText>
              </ReportTexts>
          </EndPoint>
          
          <EndPoint Id="hcc5Ep">
              <Label>HCC-5</Label>
              <ReportTexts>
                  <ReportText SectionId="findings">[HCC-5] Observation with imaging features diagnostic of HCC.
                    <InsertPartial PartialId="adjustcategorytext"/>
                  </ReportText>
              </ReportTexts>
          </EndPoint>        
          
        <EndPoint Id="hcc5vEp">
              <Label>HCC-5V</Label>
              <ReportTexts>
                  <ReportText SectionId="findings">[HCC-5V] Presence of tumor in vein lumen.
                    <InsertPartial PartialId="adjustcategorytext"/>
                  </ReportText>
              </ReportTexts>
          </EndPoint>
      
      <EndPoint Id="hccmEp">
              <Label>HCC-M</Label>
              <ReportTexts>
                  <ReportText SectionId="findings">[HCC-M] Observation with one or more imaging features that favor non-HCC malignancy 
                    <InsertPartial PartialId="adjustcategorytext"/>
                  </ReportText>
              </ReportTexts>
          </EndPoint>
      
          <EndPoint Id="hcctreatedEp">
              <Label>HCC-Treated</Label>
              <ReportTexts>
                  <ReportText SectionId="findings">[HCC-Treated] An observation that has undergone loco-regional treatment.
                  </ReportText>
              </ReportTexts>
          </EndPoint>
         
          <EndPoint Id="hcc4_5">
              <Label>HCC-4/HCC-5</Label>
              <ReportTexts>
                  <ReportText SectionId="findings">[HCC-4/HCC-5] Refers to a cell in the LI-RADS table where observations may be considered LR-4, LR-5us, or LR-5g
                    <InsertPartial PartialId="adjustcategorytext"/>
                  </ReportText>  
              </ReportTexts>
          </EndPoint>           
      </EndPoints>
      
  </ReportingModule>


</script>
   <script id="xmlSchema" type="text/xml" >
    <?xml version="1.0" encoding="UTF-8"?>
    <xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified">
      <!-- Version 1.0 -->
      <xs:element name="ReportingModule">
      <xs:complexType>
        <xs:sequence>
        <xs:element ref="Metadata"/>
        <xs:element ref="DataElements"/>
        <xs:element ref="Rules"/>
        <xs:element ref="EndPoints"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="Metadata">
      <xs:complexType>
        <xs:sequence>
        <xs:element ref="Label"/>
        <xs:element ref="ID"/>
        <xs:element ref="SchemaVersion"/>
        <xs:element ref="RuleVersion"/>
        <xs:element minOccurs="0" ref="Info"/>
        <xs:element ref="ReportCitationText"/>
        <xs:element minOccurs="0" ref="Ontology"/>
        <xs:element minOccurs="0" ref="ApplicableExams"/>
        <xs:element ref="ApplicableSexes"/>
        <xs:element minOccurs="0" ref="ApplicableAgeGroups"/>
        <xs:element minOccurs="0" ref="TextCues"/>
        <xs:element minOccurs="0" ref="VoiceActivation"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="Label" type="xs:string"/>
      <xs:element name="ID" type="xs:string"/>
      <xs:element name="SchemaVersion" type="xs:string"/>
      <xs:element name="RuleVersion" type="xs:string"/>
      <xs:element name="Info">
      <xs:complexType>
        <xs:sequence>
        <xs:element minOccurs="0" ref="Description"/>
        <xs:element minOccurs="0" ref="References"/>
        <xs:element minOccurs="0" name="Diagrams">
          <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="Diagram">
            <xs:complexType>
              <xs:complexContent>
              <xs:extension base="imageElements">
                <xs:attribute name="KeyDiagram">
                <xs:simpleType>
                  <xs:restriction base="xs:token">
                  <xs:enumeration value="true"/>
                  <xs:enumeration value="false"/>
                  </xs:restriction>
                </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="DisplaySequence" type="xs:integer"/>
              </xs:extension>
              </xs:complexContent>
            </xs:complexType>
            </xs:element>
          </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element minOccurs="0" ref="HelpText"/>
        <xs:element minOccurs="0" ref="Contact"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="Description" type="xs:string"/>
      <xs:element name="References">
      <xs:complexType>
        <xs:group maxOccurs="unbounded" ref="Citation"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="HelpText" type="xs:string"/>
      <xs:element name="Contact">
      <xs:complexType>
        <xs:sequence>
        <xs:element ref="Name"/>
        <xs:element ref="Email"/>
        <xs:element minOccurs="0" ref="Institution"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="Name" type="xs:string"/>
      <xs:element name="Email" type="xs:string"/>
      <xs:element name="Institution" type="xs:string"/>
      <xs:element name="ReportCitationText" type="xs:string"/>
      <xs:element name="Ontology">
      <xs:complexType>
        <xs:sequence>
        <xs:element minOccurs="0" maxOccurs="unbounded" ref="AnatomicRegions"/>
        <xs:element minOccurs="0" maxOccurs="unbounded" ref="PossibleDiagnoses"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="AnatomicRegions">
      <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="Region"/>
        </xs:sequence>
        <xs:attribute name="codingSystemAttr"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="Region">
      <xs:complexType mixed="true">
        <xs:attribute name="Code" use="required" type="xs:token"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="PossibleDiagnoses">
      <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="Diagnosis"/>
        </xs:sequence>
        <xs:attribute name="CodingSystem"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="ApplicableExams">
      <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="ApplicableExamCategory"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="ApplicableExamCategory">
      <xs:complexType mixed="true">
        <xs:attribute name="Axis" use="required">
        <xs:simpleType>
          <xs:restriction base="xs:token">
          <xs:enumeration value="Modality"/>
          <xs:enumeration value="Anatomy"/>
          </xs:restriction>
        </xs:simpleType>
        </xs:attribute>
      </xs:complexType>
      </xs:element>
      <xs:element name="ApplicableSexes">
      <xs:complexType>
        <xs:attribute name="Value" use="required">
        <xs:simpleType>
          <xs:restriction base="xs:token">
          <xs:enumeration value="Male"/>
          <xs:enumeration value="Female"/>
          <xs:enumeration value="Both"/>
          </xs:restriction>
        </xs:simpleType>
        </xs:attribute>
      </xs:complexType>
      </xs:element>
      <xs:element name="ApplicableAgeGroups">
      <xs:complexType>
        <xs:sequence>
        <xs:element minOccurs="0" ref="MinimumAge"/>
        <xs:element minOccurs="0" ref="MaximumAge"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="MinimumAge" type="xs:nonNegativeInteger"/>
      <xs:element name="MaximumAge" type="xs:nonNegativeInteger"/>
      <xs:element name="TextCues">
      <xs:complexType>
        <xs:sequence>
        <xs:element minOccurs="0" ref="ContextPhrases"/>
        <xs:element ref="KeyWords"/>
        <xs:element minOccurs="0" ref="NegationPhrases"/>
        <xs:element minOccurs="0" ref="Regex"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="ContextPhrases">
      <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="ContextPhrase"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="ContextPhrase" type="xs:string"/>
      <xs:element name="KeyWords">
      <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="KeyWord"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="KeyWord" type="xs:string"/>
      <xs:element name="NegationPhrases">
      <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="NegationPhrase"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="NegationPhrase" type="xs:string"/>
      <xs:element name="Regex" type="xs:string"/>
      <xs:element name="VoiceActivation">
      <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="VoiceCommandPhrase"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="VoiceCommandPhrase" type="xs:string"/>
      <xs:group name="Citation">
      <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="Citation"/>
      </xs:sequence>
      </xs:group>
      <xs:element name="Citation">
      <xs:complexType mixed="true">
        <xs:attribute name="PubmedId" type="xs:token"/>
        <xs:attribute name="Url" type="xs:anyURI"/>
      </xs:complexType>
      </xs:element>
      <!-- definitions for other parts of the schema -->
      <xs:attributeGroup name="codingSystemAttr">
      <xs:attribute name="CodingSystem" use="required"/>
      </xs:attributeGroup>
      <xs:attributeGroup name="codeAttrs">
      <xs:attribute name="CodingSystem"/>
      <xs:attribute name="Code" use="required" type="xs:token"/>
      </xs:attributeGroup>
      <xs:element name="Diagnosis">
      <xs:complexType mixed="true">
        <xs:attributeGroup ref="codeAttrs"/>
      </xs:complexType>
      </xs:element>
      <!-- Exam = element Exam { codeAttrs, text } #this is not being used anywhere, but should be used in Followup Exams -->
      <xs:element name="Modality">
      <xs:complexType>
        <xs:attributeGroup ref="codeAttrs"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="BodyRegion">
      <xs:complexType>
        <xs:attributeGroup ref="codeAttrs"/>
      </xs:complexType>
      </xs:element>
      <xs:complexType name="imageElements">
      <xs:sequence>
        <xs:element ref="Location"/>
        <xs:element minOccurs="0" ref="Label"/>
      </xs:sequence>
      </xs:complexType>
      <xs:element name="Location" type="xs:anyURI"/>
      <!-- start of the next Section Data Elements -->
      <xs:element name="DataElements">
      <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="DataElementTypes"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="DataElementTypes" abstract="true"/>
      <xs:element name="GlobalValue" substitutionGroup="DataElementTypes">
      <xs:complexType mixed="true">
        <xs:attribute name="Id" use="required" type="xs:ID"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="Diagrams">
      <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="unbounded" name="Diagram">
          <xs:complexType>
          <xs:sequence>
            <xs:element name="Location" type="xs:string"/>
            <xs:element ref="Label"/>
          </xs:sequence>
          <xs:attribute name="DisplaySequence" type="xs:integer"/>
          <xs:attribute name="KeyDiagram">
            <xs:simpleType>
            <xs:restriction base="xs:token">
              <xs:enumeration value="true"/>
              <xs:enumeration value="false"/>
            </xs:restriction>
            </xs:simpleType>
          </xs:attribute>
          </xs:complexType>
        </xs:element>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:attributeGroup name="DisplaySequence">
      <xs:attribute name="DisplaySequence" use="required">
        <xs:simpleType>
        <xs:restriction base="xs:integer">
          <xs:minInclusive value="0"/>
        </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      </xs:attributeGroup>
      <xs:complexType name="baseElementContents">
      <xs:sequence>
        <xs:element ref="Label"/>
        <xs:element minOccurs="0" ref="Hint"/>
        <xs:element minOccurs="0" ref="Diagrams"/>
        <xs:element minOccurs="0" ref="VoiceCommand"/>
      </xs:sequence>
      <xs:attribute name="Id" use="required" type="xs:ID"/>
      <xs:attribute name="CdeId" type="xs:token"/>
      <xs:attribute name="IsRequired">
        <xs:simpleType>
        <xs:restriction base="xs:token">
          <xs:enumeration value="true"/>
          <xs:enumeration value="false"/>
        </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="DisplaySequence">
        <xs:simpleType>
        <xs:restriction base="xs:integer">
          <xs:minInclusive value="0"/>
        </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      </xs:complexType>
      <xs:element name="Hint" type="xs:string"/>
      <xs:element name="VoiceCommand" type="xs:string"/>
      <xs:element name="computedValue" abstract="true"/>
      <xs:element name="ArithmeticExpression" substitutionGroup="computedValue" type="xs:string"/>
      <xs:element name="TextExpression" substitutionGroup="computedValue">
      <xs:complexType mixed="true">
        <xs:sequence>
        <xs:element minOccurs="0" maxOccurs="unbounded" ref="InsertValue"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:complexType name="valueBranches">
      <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="Branch"/>
        <xs:element minOccurs="0" ref="DefaultBranch"/>
      </xs:sequence>
      </xs:complexType>
      <xs:element name="Branch">
      <xs:complexType>
        <xs:sequence>
        <xs:element ref="ConditionType"/>
        <xs:choice>
          <xs:element ref="computedValue"/>
          <xs:group ref="valueDecisionPoint"/>
        </xs:choice>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="DefaultBranch">
      <xs:complexType>
        <xs:choice>
        <xs:element ref="computedValue"/>
        <xs:group ref="valueDecisionPoint"/>
        </xs:choice>
      </xs:complexType>
      </xs:element>
      <xs:group name="valueDecisionPoint">
      <xs:sequence>
        <xs:element name="DecisionPoint" type="valueBranches"/>
      </xs:sequence>
      </xs:group>
      <xs:element name="ComputedElement" substitutionGroup="DataElementTypes">
      <xs:complexType>
        <xs:sequence>
        <xs:element minOccurs="0" ref="Label"/>
        <xs:element minOccurs="0" ref="Hint"/>
        <xs:element minOccurs="0" ref="Diagrams"/>
        <xs:choice>
          <xs:element ref="computedValue"/>
          <xs:group ref="valueDecisionPoint"/>
        </xs:choice>
        </xs:sequence>
        <xs:attribute name="Id" use="required" type="xs:ID"/>
        <xs:attribute name="DisplaySequence">
        <xs:simpleType>
          <xs:restriction base="xs:integer">
          <xs:minInclusive value="0"/>
          </xs:restriction>
        </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="ShowValue" type="xs:boolean"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="NumericDataElement" substitutionGroup="DataElementTypes">
      <xs:complexType>
        <xs:complexContent>
        <xs:extension base="baseElementContents">
          <xs:sequence>
          <xs:element minOccurs="0" ref="Minimum"/>
          <xs:element minOccurs="0" ref="Maximum"/>
          </xs:sequence>
        </xs:extension>
        </xs:complexContent>
      </xs:complexType>
      </xs:element>
      <xs:element name="Minimum" type="xs:decimal"/>
      <xs:element name="Maximum" type="xs:decimal"/>
      <xs:element name="IntegerDataElement" substitutionGroup="DataElementTypes">
      <xs:complexType>
        <xs:complexContent>
        <xs:extension base="baseElementContents">
          <xs:sequence>
          <xs:element minOccurs="0" ref="Minimum"/>
          <xs:element minOccurs="0" ref="Maximum"/>
          </xs:sequence>
        </xs:extension>
        </xs:complexContent>
      </xs:complexType>
      </xs:element>
      <xs:element name="Choice">
      <xs:complexType>
        <xs:sequence>
        <xs:element ref="Value"/>
        <xs:element ref="Label"/>
        <xs:element minOccurs="0" ref="Hint"/>
        <xs:element minOccurs="0" ref="VoiceCommand"/>
        <xs:element minOccurs="0" name="ReportText" type="xs:string"/>
        </xs:sequence>
        <xs:attribute name="Default">
        <xs:simpleType>
          <xs:restriction base="xs:token">
          <xs:enumeration value="true"/>
          <xs:enumeration value="false"/>
          </xs:restriction>
        </xs:simpleType>
        </xs:attribute>
      </xs:complexType>
      </xs:element>
      <xs:element name="Value" type="xs:token"/>
      <xs:element name="ChoiceInfo">
      <xs:complexType>
        <xs:sequence>
        <xs:element ref="Choice"/>
        <xs:element maxOccurs="unbounded" ref="Choice"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:attributeGroup name="imageMapStyleAttributes">
      <xs:attribute name="Outline"/>
      <xs:attribute name="HoverFill"/>
      <xs:attribute name="SelectedFill"/>
      </xs:attributeGroup>
      <xs:element name="ImageMap">
      <xs:complexType>
        <xs:complexContent>
        <xs:extension base="imageElements">
          <xs:sequence>
          <xs:element minOccurs="0" ref="DrawStyle"/>
          <xs:element ref="Map"/>
          </xs:sequence>
        </xs:extension>
        </xs:complexContent>
      </xs:complexType>
      </xs:element>
      <xs:element name="DrawStyle">
      <xs:complexType>
        <xs:attributeGroup ref="imageMapStyleAttributes"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="Map">
      <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="Area"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="Area">
      <xs:complexType>
        <xs:attribute name="Shape" use="required">
        <xs:simpleType>
          <xs:restriction base="xs:token">
          <xs:enumeration value="rect"/>
          <xs:enumeration value="poly"/>
          <xs:enumeration value="circle"/>
          </xs:restriction>
        </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="Coords" use="required"/>
        <xs:attribute name="ChoiceValue" use="required" type="xs:token"/>
        <xs:attributeGroup ref="imageMapStyleAttributes"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="ChoiceDataElement" substitutionGroup="DataElementTypes">
      <xs:complexType>
        <xs:complexContent>
        <xs:extension base="baseElementContents">
          <xs:sequence>
          <xs:element ref="ChoiceInfo"/>
          <xs:element minOccurs="0" ref="ImageMap"/>
          </xs:sequence>
        </xs:extension>
        </xs:complexContent>
      </xs:complexType>
      </xs:element>
      <xs:element name="MultiChoiceDataElement" substitutionGroup="DataElementTypes">
      <xs:complexType>
        <xs:complexContent>
        <xs:extension base="baseElementContents">
          <xs:sequence>
          <xs:element ref="ChoiceInfo"/>
          <xs:element minOccurs="0" ref="ImageMap"/>
          </xs:sequence>
        </xs:extension>
        </xs:complexContent>
      </xs:complexType>
      </xs:element>
      <!-- Start of next section (RULES) -->
      <xs:element name="ConditionType" abstract="true"/>
      <xs:element name="AndCondition" substitutionGroup="ConditionType">
      <xs:complexType>
        <xs:sequence>
        <xs:element ref="ConditionType"/>
        <xs:element maxOccurs="unbounded" ref="ConditionType"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="OrCondition" substitutionGroup="ConditionType">
      <xs:complexType>
        <xs:sequence>
        <xs:element ref="ConditionType"/>
        <xs:element maxOccurs="unbounded" ref="ConditionType"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="NotCondition" substitutionGroup="ConditionType">
      <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="ConditionType"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:attributeGroup name="dataElementIdAttribute">
      <xs:attribute name="DataElementId" use="required" type="xs:IDREF"/>
      </xs:attributeGroup>
      <xs:attributeGroup name="comparisonConditionContents">
      <xs:attributeGroup ref="dataElementIdAttribute"/>
      <xs:attribute name="ComparisonValue" use="required" type="xs:token"/>
      </xs:attributeGroup>
      <xs:element name="EqualCondition" substitutionGroup="ConditionType">
      <xs:complexType>
        <xs:attributeGroup ref="comparisonConditionContents"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="GreaterThanCondition" substitutionGroup="ConditionType">
      <xs:complexType>
        <xs:attributeGroup ref="comparisonConditionContents"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="LessThanCondition" substitutionGroup="ConditionType">
      <xs:complexType>
        <xs:attributeGroup ref="comparisonConditionContents"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="GreaterThanOrEqualsCondition" substitutionGroup="ConditionType">
      <xs:complexType>
        <xs:attributeGroup ref="comparisonConditionContents"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="LessThanOrEqualsCondition" substitutionGroup="ConditionType">
      <xs:complexType>
        <xs:attributeGroup ref="comparisonConditionContents"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="HasAnyNChoicesCondition" substitutionGroup="ConditionType">
      <xs:complexType>
        <xs:attributeGroup ref="dataElementIdAttribute"/>
        <xs:attribute name="MinimumChoices" use="required" type="xs:positiveInteger"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="ContainsCondition" substitutionGroup="ConditionType">
      <xs:complexType>
        <xs:attributeGroup ref="dataElementIdAttribute"/>
        <xs:attribute name="ComparisonValue" use="required" type="xs:token"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="Rules">
      <xs:complexType>
        <xs:group ref="DecisionPoint"/>
      </xs:complexType>
      </xs:element>
      <!-- { branchModifiers, DecisionPoint } -->
      <xs:element name="DataElementRef">
      <xs:complexType>
        <xs:attribute name="DataElementId" use="required" type="xs:IDREF"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="ChoiceRef">
      <xs:complexType>
        <xs:attribute name="DataElementId" use="required" type="xs:IDREF"/>
        <xs:attribute name="ChoiceValue" use="required" type="xs:token"/>
      </xs:complexType>
      </xs:element>
      <xs:group name="branchModifiers">
      <xs:sequence>
        <xs:element minOccurs="0" ref="NotRelevantDataElements"/>
      </xs:sequence>
      </xs:group>
      <xs:element name="NotRelevantDataElements">
      <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="DataElementRef"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <!--
      element RelevantDataElements { DataElementRef+ }?,
      element NotValidChoices { ChoiceRef+ }?
      -->
      <xs:group name="DecisionPoint">
      <xs:sequence>
        <xs:element name="DecisionPoint">
        <xs:complexType>
          <xs:sequence>
          <xs:element ref="Label"/>
          <xs:element minOccurs="0" ref="Description"/>
          <xs:element maxOccurs="unbounded" name="Branch">
            <xs:complexType>
            <xs:sequence>
              <xs:element minOccurs="0" ref="Label"/>
              <xs:group ref="branchModifiers"/>
              <xs:element ref="ConditionType"/>
              <xs:choice>
              <xs:element ref="EndPointRef"/>
              <xs:group ref="DecisionPoint"/>
              </xs:choice>
            </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="DefaultBranch">
            <xs:complexType>
            <xs:sequence>
              <xs:element minOccurs="0" ref="Label"/>
              <xs:group ref="branchModifiers"/>
              <xs:choice>
              <xs:element ref="EndPointRef"/>
              <xs:group ref="DecisionPoint"/>
              </xs:choice>
            </xs:sequence>
            </xs:complexType>
          </xs:element>
          </xs:sequence>
          <xs:attribute name="Id" use="required" type="xs:ID"/>
        </xs:complexType>
        </xs:element>
      </xs:sequence>
      </xs:group>
      <!-- Begin ENDPOINTS Section -->
      <xs:element name="EndPointRef">
      <xs:complexType>
        <xs:sequence>
        <xs:element minOccurs="0" ref="Label"/>
        <xs:element minOccurs="0" ref="Description"/>
        </xs:sequence>
        <xs:attribute name="EndPointId" use="required" type="xs:IDREF"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="EndPoints">
      <xs:complexType>
        <xs:sequence>
        <xs:element minOccurs="0" maxOccurs="unbounded" ref="TemplatePartial"/>
        <xs:element maxOccurs="unbounded" ref="EndPoint"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="TemplatePartial">
      <xs:complexType>
        <xs:complexContent>
        <xs:extension base="TextTemplateContent">
          <xs:attribute name="Id" use="required" type="xs:ID"/>
        </xs:extension>
        </xs:complexContent>
      </xs:complexType>
      </xs:element>
      <xs:element name="EndPoint">
      <xs:complexType>
        <xs:sequence>
        <xs:element minOccurs="0" ref="Label"/>
        <xs:element minOccurs="0" ref="Diagnosis"/>
        <xs:element ref="ReportTexts"/>
        <xs:element minOccurs="0" ref="ActionableFinding"/>
        <xs:element minOccurs="0" ref="ImagingFollowup"/>
        </xs:sequence>
        <xs:attribute name="Id" use="required" type="xs:ID"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="ReportTexts">
      <xs:complexType>
        <xs:group maxOccurs="unbounded" ref="ReportText"/>
      </xs:complexType>
      </xs:element>
      <xs:group name="ReportText">
      <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="ReportText"/>
      </xs:sequence>
      </xs:group>
      <xs:element name="ReportText">
      <xs:complexType>
        <xs:complexContent>
        <xs:extension base="TextTemplateContent">
          <xs:attributeGroup ref="sectionIdAttr"/>
        </xs:extension>
        </xs:complexContent>
      </xs:complexType>
      </xs:element>
      <xs:attributeGroup name="sectionIdAttr">
      <xs:attribute name="SectionId" use="required">
        <xs:simpleType>
        <xs:restriction base="xs:token">
          <xs:enumeration value="findings"/>
          <xs:enumeration value="impression"/>
          <xs:enumeration value="recommendation"/>
          <xs:enumeration value="impressionRecommendation"/>
          <xs:enumeration value="citation"/>
        </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      </xs:attributeGroup>
      <xs:group name="recommendationBase">
      <xs:sequence>
        <xs:element minOccurs="0" ref="ClinicalCondition"/>
        <xs:element minOccurs="0" ref="References"/>
        <xs:element minOccurs="0" ref="EvidenceLevel"/>
      </xs:sequence>
      </xs:group>
      <xs:element name="ClinicalCondition" type="xs:string"/>
      <xs:element name="EvidenceLevel">
      <xs:complexType>
        <xs:simpleContent>
        <xs:extension base="xs:token">
          <xs:attributeGroup ref="codingSystemAttr"/>
        </xs:extension>
        </xs:simpleContent>
      </xs:complexType>
      </xs:element>
      <xs:element name="RecommendedTimeFrame">
      <xs:complexType>
        <xs:attribute name="Earliest" use="required" type="xs:duration"/>
        <xs:attribute name="Latest" type="xs:duration"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="ImagingFollowup">
      <xs:complexType>
        <xs:sequence>
        <xs:group ref="recommendationBase"/>
        <xs:element ref="PreferredImagingExam"/>
        <xs:element ref="AcceptableImagingExams"/>
        <xs:element ref="IndicationForFollowup"/>
        <xs:element ref="RecommendedTimeFrame"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="PreferredImagingExam">
      <xs:complexType mixed="true">
        <xs:attributeGroup ref="codeAttrs"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="AcceptableImagingExams">
      <xs:complexType>
        <xs:sequence>
        <xs:element maxOccurs="unbounded" ref="Exam"/>
        </xs:sequence>
      </xs:complexType>
      </xs:element>
      <xs:element name="IndicationForFollowup">
      <xs:complexType mixed="true">
        <xs:attributeGroup ref="codeAttrs"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="ActionableFinding">
      <xs:complexType>
        <xs:attribute name="Category" use="required"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="Exam">
      <xs:complexType mixed="true">
        <xs:attribute name="Code" use="required"/>
        <xs:attribute name="CodeSystem" use="required"/>
        <xs:attribute name="Modality" use="required"/>
        <xs:attribute name="BodyRegion" use="required"/>
      </xs:complexType>
      </xs:element>
      <xs:complexType name="TextTemplateContent" mixed="true">
      <xs:sequence>
        <xs:element minOccurs="0" maxOccurs="unbounded" ref="templateTags"/>
      </xs:sequence>
      </xs:complexType>
      <xs:element name="templateTags" abstract="true"/>
      <xs:element name="InsertValue" substitutionGroup="templateTags">
      <xs:complexType>
        <xs:attribute name="DataElementId" use="required" type="xs:IDREF"/>
        <xs:attribute name="SignificantDigits" type="xs:integer"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="InsertPartial" substitutionGroup="templateTags">
      <xs:complexType>
        <xs:attribute name="PartialId" use="required" type="xs:IDREF"/>
      </xs:complexType>
      </xs:element>
      <xs:element name="SectionIf" substitutionGroup="templateTags">
      <xs:complexType>
        <xs:complexContent>
        <xs:extension base="TextTemplateContent">
          <xs:attribute name="DataElementId" use="required" type="xs:IDREF"/>
        </xs:extension>
        </xs:complexContent>
      </xs:complexType>
      </xs:element>
      <xs:element name="SectionIfValue" substitutionGroup="templateTags">
      <xs:complexType>
        <xs:complexContent>
        <xs:extension base="TextTemplateContent">
          <xs:attribute name="DataElementId" use="required" type="xs:IDREF"/>
          <xs:attribute name="ComparisonValue" use="required" type="xs:token"/>
        </xs:extension>
        </xs:complexContent>
      </xs:complexType>
      </xs:element>
      <xs:element name="SectionIfNot" substitutionGroup="templateTags">
      <xs:complexType>
        <xs:complexContent>
        <xs:extension base="TextTemplateContent">
          <xs:attribute name="DataElementId" use="required" type="xs:IDREF"/>
        </xs:extension>
        </xs:complexContent>
      </xs:complexType>
      </xs:element>
      <xs:element name="SectionIfValueNot" substitutionGroup="templateTags">
      <xs:complexType>
        <xs:complexContent>
        <xs:extension base="TextTemplateContent">
          <xs:attribute name="DataElementId" use="required" type="xs:IDREF"/>
          <xs:attribute name="ComparisonValue" use="required" type="xs:token"/>
        </xs:extension>
        </xs:complexContent>
      </xs:complexType>
      </xs:element>
    </xs:schema>
  </script>

</body>
</html>
